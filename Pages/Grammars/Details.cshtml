@page "{grammarId}"
@model Lingo.Pages.Grammars.DetailsModel
@using Lingo.Services
@inject Auth auth

<div class="row">
    <!-- Essay -->
    <div class="col-lg-10">
        <div class="row">
            <a class="btn btn-secondary mx-1" asp-page="./Index" asp-route-language="@Model.Language" asp-route-category="@Model.Category" asp-route-query="@Model.Query">Back</a>
            @if (auth.IsAdmin){
                <a class="btn btn-primary mx-1" asp-page="./Edit" asp-route-grammarId="@Model.Grammar.GrammarId">Edit</a>
                <form asp-page-handler="delete" asp-route-grammarId="@Model.Grammar.GrammarId" method="post">
                    <button class="btn btn-danger mx-1">Delete</button>
                </form>
            }
        </div>  

        <h3 class="mt-3">@Model.Grammar.Title</h3> 
        <div>
            <span>@Model.Grammar.GrammarId</span> |
            <span>@Model.Grammar.Category</span> |
            <span>@Model.Grammar.Language</span> |
            <span>@Model.Grammar.Source</span> |
            @*<span>@Model.Grammar.Created.Value.ToString("dd MMM yyyy")</span>
        </div>*@

        <div>
        @if (Model.Grammar.Filename != null){
            <iframe src="~/uploads/@Model.Grammar.Filename" width="100%" height="800px"></iframe>
        }
        </div>
        @if (Model.Grammar.Text != null){
            <div class="border mt-2 p-2">
                <span id="text">@Html.Raw(@Model.Grammar.Text)</span>
            </div>
        }
    </div> 
</div>




